<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5レーン音ゲー譜面エディタ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>📝 譜面エディタ</h2>
            
            <div class="section">
                <h3>🎵 楽曲設定</h3>
                <div class="input-group">
                    <label for="audioFile">音声ファイル</label>
                    <label class="file-label" for="audioFile">
                        ファイルを選択
                    </label>
                    <input type="file" id="audioFile" accept="audio/*">
                    <div class="file-name" id="fileName"></div>
                </div>
                
                <div class="input-group">
                    <label for="title">曲名</label>
                    <input type="text" id="title" placeholder="楽曲タイトル">
                </div>
                
                <div class="input-group">
                    <label for="bpm">BPM</label>
                    <input type="number" id="bpm" value="120" min="60" max="300">
                </div>
                
                <div class="input-group">
                    <label for="offset">オフセット (ms)</label>
                    <input type="number" id="offset" value="0" step="10">
                </div>
            </div>

            <div class="section">
                <h3>🎯 ノーツ設定</h3>
                <div class="input-group">
                    <label>ノーツタイプ</label>
                    <div class="note-type-selector">
                        <button class="note-type-btn active" data-type="tap">タップ</button>
                        <button class="note-type-btn" data-type="hold">ホールド</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label>スナップ</label>
                    <div class="snap-selector">
                        <button class="snap-btn" data-snap="4">1/4</button>
                        <button class="snap-btn active" data-snap="8">1/8</button>
                        <button class="snap-btn" data-snap="12">1/12</button>
                        <button class="snap-btn" data-snap="0">OFF</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="zoom">譜面の縦幅</label>
                    <input type="range" id="zoom" min="50" max="300" value="100" step="10">
                    <span id="zoomValue">100%</span>
                </div>

                <div class="input-group">
                    <label>スクロール追従</label>
                    <button class="toggle-btn active" id="autoScrollBtn">自動追従 ON</button>
                </div>
            </div>

            <div class="section">
                <h3>💾 データ管理</h3>
                <button class="btn btn-primary" id="saveBtn">JSONを保存</button>
                <label class="btn btn-secondary" for="loadFile">JSONを読込</label>
                <input type="file" id="loadFile" accept=".json">
            </div>
        </div>

        <div class="main-area">
            <div class="controls">
                <button class="play-btn" id="playBtn">▶</button>
                <div class="time-display" id="timeDisplay">0:00 / 0:00</div>
                <div class="seek-bar" id="seekBar">
                    <div class="seek-progress" id="seekProgress"></div>
                    <div class="seek-handle" id="seekHandle"></div>
                </div>
            </div>

            <div class="editor-container">
                <div class="editor" id="editor">
                    <div class="editor-content" id="editorContent">
                        <div class="judgment-line" id="judgmentLine"></div>
                        <div class="lanes" id="lanes">
                            <div class="lane" data-lane="0"></div>
                            <div class="lane" data-lane="1"></div>
                            <div class="lane" data-lane="2"></div>
                            <div class="lane" data-lane="3"></div>
                            <div class="lane" data-lane="4"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>